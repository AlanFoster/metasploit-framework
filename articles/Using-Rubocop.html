<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Git Reference Sites | Metasploit spike</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Git Reference Sites" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Learning Git" />
<meta property="og:description" content="Learning Git" />
<link rel="canonical" href="/metasploit-framework/articles/Git-Reference-Sites.html" />
<meta property="og:url" content="/metasploit-framework/articles/Git-Reference-Sites.html" />
<meta property="og:site_name" content="Metasploit spike" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-01-12T17:14:28+00:00" />
<script type="application/ld+json">
{"description":"Learning Git","headline":"Git Reference Sites","dateModified":"2012-01-12T17:14:28+00:00","datePublished":"2012-01-12T17:14:28+00:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/metasploit-framework/articles/Git-Reference-Sites.html"},"url":"/metasploit-framework/articles/Git-Reference-Sites.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/metasploit-framework/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/metasploit-framework/feed.xml" title="Metasploit spike" /></head>
<body><header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/metasploit-framework/">Metasploit spike</a><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
              </svg>
            </span>
          </label>
  
          <div class="trigger">
            <a class="page-link" href="/metasploit-framework/">Articles</a><a class="page-link" href="/metasploit-framework/modules/">Modules</a></div>
        </nav></div>
  </header>
  <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Using Rubocop</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2017-11-06T22:06:37+00:00" itemprop="datePublished">Nov 6, 2017
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="rubocop">Rubocop</h1>
<p>Rubocop is a great tool for beginning and experienced Ruby coders if you treat the output for what it is: suggestions.  While msftidy remains our barrier to entry, there are many things it will not catch.  As msftidy is not strict enough to catch everything, Rubocop sometimes goes too far in its suggestions.</p>

<h2 id="installing-rubocop">Installing Rubocop</h2>
<p><a href="https://github.com/bbatsov/rubocop">Installing Rubocop</a> is really easy.  Simply go to your metasploit-framework directory and run:
<code class="highlighter-rouge">gem install rubocop</code></p>

<h2 id="running-rubocop">Running Rubocop</h2>
<p>Run <code class="highlighter-rouge">rubocop &lt;ruby file&gt;</code></p>

<h2 id="what-suggestions-should-you-ignore">What suggestions should you ignore?</h2>

<p>We have an evolving set of suggestion tweaks from the default rubocop that is checked into the latest tree https://github.com/rapid7/metasploit-framework/blob/master/.rubocop.yml. A lot of the suggestions that often lead to <em>worse</em> code (especially when applied after a module is tested originally) have been disabled, along with ones that are more subjective or go against established Metasploit norms. This is prone to change over time. For now, we try to support the syntax that works with the latest supported versions of Ruby, which at this writing are Ruby 2.2 through 2.4.</p>

<h2 id="so-what-suggestions-should-you-take-to-heart">So what suggestions should you take to heart?</h2>

<h4 id="spacing">Spacing</h4>
<p>White space affects code readability, and we’d like to try and maintain (or establish) a continual look and feel.  If Rubocop complains about whitespace, please take it to heart.</p>

<h4 id="parentheticals-braces-and-brackets">Parentheticals, braces, and brackets</h4>
<p>Rubocop likes aligned parentheses, spaces around brackets, and is picky about spacing around most encapsulating syntax elements.  As a big fan of Python, I agree wholeheartedly with these alignment and spacing suggestions, as it makes me feel like I’m home.  Others will disagree about importance, but no one will complain if you do it right, only varying volumes of complaining when doing it wrong.</p>

<h4 id="code-complexity">Code Complexity</h4>
<p>As stated above, Rubocops’s code complexity warnings are less useful than we’d like.  Please keep functions below 100 lines (50 is better).  Otherwise, just be clear.  If two lines will be readable, use two lines.  Someone will be coming along behind you.  Please do not make that person hate you. We do have most of the rubocop warnings disabled, but use your head.</p>

<h4 id="conditional-statements">Conditional Statements</h4>
<p>Rubocop encourages single-line incomprehensible conditional statements that reek of blatant, painful, Ruby exhibitionism.  Again, as a non-native Ruby coder that has to go back and figure out what old modules do, I humbly request that you please ignore those warnings.  Make your conditional statements easy to read and understand, make them stand out as conditional, and please, never, ever use <code class="highlighter-rouge">unless</code>.  I’ve watched <code class="highlighter-rouge">unless</code> screw up very good, talented, experienced coders.  I’ve also watched senior members of our team snap and <code class="highlighter-rouge">git grep</code> through the codebase ripping out <code class="highlighter-rouge">unless</code> statements and muttering unpleasant things the entire time.
If your conditional statement takes up two whole lines, so be it.  If two nested conditional statements can be replaced with a single, unreadable and impossible to debug multi-line complex statement, please leave the two statements in place.</p>

<h4 id="ternary-operations">Ternary Operations</h4>
<p>This is likely never to come up, but if it does, please don’t use ternary operators. If you do use them, think about the case where there might be a backtrace - will you know which path was taken? Note that if you’re just trying to assign based on conditional, ruby also supports this syntax which can be clearer if your branches are complex:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a = if x = y
      foo
    else
      bar
    end
</code></pre></div></div>

<h4 id="but-i-copied-it-from-another-module">But I copied it from another module!</h4>
<p>Consistency is a virtue only when it is correct.  (In all seriousness, use your best judgement here, and don’t be afraid to ask.). Also, we allow cleaning up other modules too, though be forewarned, please have a way to test any modules you clean up.</p>

  </div><a class="u-url" href="/metasploit-framework/articles/Using-Rubocop.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/metasploit-framework/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Metasploit spike</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Metasploit spike</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/metasploit-framework/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/metasploit-framework/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
